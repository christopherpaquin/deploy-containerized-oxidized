---
# Oxidized Configuration
# This file should be deployed to: /var/lib/oxidized/config/config
# Inside the container it will be mounted at: /home/oxidized/.config/oxidized/config

# Username and password for device login
# SECURITY: These should be set via environment variables in production
# Set these in the Quadlet file or use a secrets manager
username: oxidized
password: oxidized

# Polling interval in seconds (3600 = hourly)
interval: 3600

# Log configuration
# Logs are written to data directory
log: /home/oxidized/.config/oxidized/data/oxidized.log

# Debugging (set to true for troubleshooting)
debug: false
threads: 30
timeout: 20
retries: 3
prompt: !ruby/regexp /^([\w.@-]+[#>]\s?)$/
next_adds_job: false

# REST API configuration
# Note: With read-only rootfs and non-root user, binding to port 8888 requires network capability
# or running with host networking. Adjust as needed.
# For rootless containers, use port > 1024
rest: 0.0.0.0:8888

# Web UI configuration
web: false

# Input configuration
input:
  default: ssh, telnet
  debug: false
  ssh:
    secure: false

# Output configuration - Git repository
output:
  default: git
  git:
    user: Oxidized
    email: oxidized@example.com
    repo: /home/oxidized/.config/oxidized/repo

# Source configuration - CSV router database
# Supports two credential modes:
#   1. Per-device: Specify username/password in router.db (columns 4 & 5)
#   2. Global: Leave columns 4 & 5 blank, uses global username/password above
source:
  default: csv
  csv:
    file: /home/oxidized/.config/oxidized/router.db
    delimiter: !ruby/regexp /:/
    map:
      name: 0
      ip: 1
      model: 2
      group: 3
      username: 4
      password: 5
    gpg: false

# Model-specific configurations
# Add device models as needed
models: {}

# Group-specific configurations
groups: {}

# PID file location
pid: /home/oxidized/.config/oxidized/data/oxidized.pid

# Crash directory for debugging
crash:
  directory: /home/oxidized/.config/oxidized/data/crashes
  hostnames: false

# Stats configuration
stats:
  history_size: 10

# Hooks for notifications (optional)
# Uncomment and configure as needed
# hooks:
#   slack:
#     type: slackdiff
#     events: [post_store]
#     url: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
